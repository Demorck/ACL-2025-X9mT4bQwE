<div class="container mx-auto max-w-4xl px-4">
    <% const prevMonth = month === 0 ? 11 : month - 1; %>
    <% const nextMonth = month === 11 ? 0 : month + 1; %>
    <% const prevYear = month === 0 ? year - 1 : year; %>
    <% const nextYear = month === 11 ? year + 1 : year; %>

    <div class="flex items-center justify-between mb-6">
        <a href="/agendas?month=<%= prevMonth %>&year=<%= prevYear %>" class="px-3 py-2 bg-stone-800 rounded hover:bg-stone-600">←</a>
        <h1 class="text-2xl font-bold"><%= monthName %> <%= year %></h1>
        <a href="/agendas?month=<%= nextMonth %>&year=<%= nextYear %>" class="px-3 py-2 bg-stone-800 rounded hover:bg-stone-600">→</a>
    </div>

    <div class="grid grid-cols-7 text-center font-semibold border-b pb-2 mb-2">
        <div>Lun</div>
        <div>Mar</div>
        <div>Mer</div>
        <div>Jeu</div>
        <div>Ven</div>
        <div>Sam</div>
        <div>Dim</div>
    </div>

    <div class="grid grid-cols-7 gap-x-2 gap-y-4">
    <% days.forEach((d) => { %>
        <% if (d) { %>
            <% const isToday = (d === new Date().getDate() && month === new Date().getMonth() && year === new Date().getFullYear()); %>
        <a 
            href="/daily?day=<%= d %>&month=<%= month %>&year=<%= year %>"
            class="p-4 border rounded shadow-sm text-center hover:bg-stone-400 <%= isToday ? 'bg-green-400 border-green-600 font-semibold' : 'bg-stone-600' %>"
        >
        <%= d %>
        </a>
        <% } else { %>
        <div></div>
        <% } %>
    <% }) %>
    </div>

</div>