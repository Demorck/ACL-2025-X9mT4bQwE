<div class="h-fit my-16 bg-stone-800 mx-auto max-w-md p-6 shadow rounded-xl">
    <% const date = new Date(year,month, day);%>
    <% const dayName = date.toLocaleDateString('fr-FR', { weekday: 'long' }).toUpperCase(); 
        const formattedMonth = (month + 1).toString().padStart(2, '0');
        const formattedDay = (day).toString().padStart(2, '0');
        const formattedDate = `${year}-${formattedMonth}-${formattedDay}`;
        const formattedBeginningHour = beginningHour.toString().padStart(2, '0');
        const formattedEndHour = endHour.toString().padStart(2, '0');

    %>


    <div class="flex items-center justify-between mb-6">
        <a href="/daily?day=<%= day %>&month=<%= month %>&year=<%= year %>" class="px-3 py-2 bg-stone-700 rounded hover:bg-stone-600">Retour</a>
        <h1 class="text-2xl font-bold">Ajouter un Rendez-Vous</h1>
    </div>

    <div class="text-center font-semibold ">
        <form method="POST" action="/appointment/add">
            <input type="hidden" name="day" value="<%= day %>">
            <input type="hidden" name="month" value="<%= month %>">
            <input type="hidden" name="year" value="<%= year %>">

            <div class="flex items-center justify-between mb-6">
                    <label class="flex-1 font-semibold mb-1 md-4" for="nom">Nom du rendez-vous</label>
                    <input id="nom" type="text" name="nom" placeholder="Nom" required class="border px-3 py-2 rounded">


            </div>

            <div class="flex gap-4 mb-4">
                <div class="flex-1">
                    <label class="block font-semibold mb-1" for="date_debut">Date début</label>
                    <input id="date_debut" type="date" name="date_debut" value="<%= formattedDate %>" required class="w-full border px-3 py-2 rounded">
                </div>
                <div class="flex-1"> 
                    <label class="block font-semibold mb-1" for="heure_debut">Heure début</label>
                    <input id="heure_debut" type="time" name="heure_debut" value="<%= formattedBeginningHour %>:00" required class="w-full border px-3 py-2 rounded">
                </div>
            </div>

            <div class="flex gap-4 mb-4">
                <div class="flex-1">
                    <label class="block font-semibold mb-1" for="date_fin">Date fin</label>
                    <input id="date_fin" type="date" name="date_fin" value="<%= formattedDate %>" required
                        class="w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
                </div>
                <div class="flex-1">
                    <label class="block font-semibold mb-1" for="heure_fin">Heure fin</label>
                    <input id="heure_fin" type="time" name="heure_fin" value="<%= formattedEndHour %>:00" required
                        class="w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
                </div>
            </div>

            <div class="flex items-center justify-between mb-6">
                <label class="bloc font-semibold mb-1" for="agendas">Agendas</label>
                <select id="agendaId" name="agendas" required class="bg-stone-800 border px-3 py-2 rounded">
                    <% agendas.forEach(agenda => { %>
                    <option id="agendaId" name="agendaId" value="<%= agenda.id %>"><%= agenda.nom %></option>
                    <% }); %>
                </select>
            </div>

            <input type="submit" value="Ajouter" class="px-3 py-2 bg-green-600 rounded hover:bg-green-700 hover:cursor-pointer">
        </form>
    </div>

</div>